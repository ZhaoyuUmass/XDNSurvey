doctype html
html
    head
        title= title
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css')
        style.
            body {
              padding: 50px;
              font: 14px "Lucida Grande", Helvetica, Arial, sans-serif;
            }

            a {
              color: #00B7FF;
            }
        script(type="text/javascript").
            function validateForm() {
                var finished = true;

                for (var i = 0; i < 2; i++) {
                    // window.alert("result"+i+":"+document.getElementById("answer")["inlineRadioOptions" + i].value);
                    if (document.getElementById("answer")["inlineRadioOptions" + i].value == '')
                        finished = false;
                }
                if (document.getElementById("answer")["email"].value == '')
                    finished = false;
                if (document.getElementById("answer")["name"].value == '')
                    finished = false;
                if (document.getElementById("answer")["zip"].value == '')
                    finished = false;
                // window.alert("email:"+document.getElementById("answer")["email"].value);
                // window.alert("name:"+document.getElementById("answer")["name"].value);
                // window.alert("finished:" + finished);
                if (!finished) {
                    window.alert("Please finish filling out the form before submission.");
                    return false;
                }
                if (confirm('Do you want to submit?')) {
                    document.getElementById("answer").submit();
                } else {
                    return false;
                }
            }
    body
        h3 Online gaming experience user study
        hr
        p.
            Thanks for your interest in this study. To participate in this study, please make sure you are currently living in United States and have a Windows laptop/desktop with a keyboard and mouse (NOTE: touchpad does not work for this study).
        form(class="form-group" id="answer" action="/sv/thanks" method="POST" onsubmit="return validateForm()")
            div(class="card")
                div(class="card-body")
                    label(for="email")=q1
                    input(type="email" class="form-control" name="email" id="email" aria-describedby="emailHelp" placeholder="Enter email")
                    small(id="emailHelp" class="form-text text-muted")=q1_exp
            div(class="card")
                div(class="card-body")
                    label(for="name")=q2
                    input(type="text" class="form-control" name="name" id="name" aria-describedby="emailHelp" placeholder="Enter name")
                    small(id="nameHelp" class="form-text text-muted")=q2_exp
            div(class="card")
                div(class="card-body")
                    label(for="age")=q3
                    br
                    div(class='form-check form-check-inline')
                        input(class="form-check-input" type="radio" name="inlineRadioOptions0" id="yes" value=1)
                        label(class="form-check-label" for="yes") yes
                    div(class='form-check form-check-inline')
                        input(class="form-check-input" type="radio" name="inlineRadioOptions0" id="no" value=0)
                        label(class="form-check-label" for="no") no
            div(class="card")
                div(class="card-body")
                    label(for="game")=q4
                    textarea(type="text" class="form-control" name="game" row=3)
                    small(id="gameHelp" class="form-text text-muted")=q4_exp
            div(class="card")
                div(class="card-body")
                    label(for="time")=q5
                    each day,index in dates
                        br
                        div(class='form-check')
                            input(class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio1"+index value=index)
                            label(class="form-check-label" for="inlineRadio1")=day
            div(class="card")
                div(class="card-body")
                    label(for="zip")=q6
                    input(id="zip" class="form-control" name="zip" type="text" inputmode="numeric" pattern="^(?(^00000(|-0000))|(\d{5}(|-\d{4})))$" placeholder="01002")
                    small(id="zipHelp" class="form-text text-muted")=q6_exp

            div(class="card")
                div(class="card-body")
                    label(for="age")=q7
                    br
                    div(class='form-check form-check-inline')
                        input(class="form-check-input" type="radio" name="inlineRadioOptions1" id="yes" value=1)
                        label(class="form-check-label" for="yes") yes
                    div(class='form-check form-check-inline')
                        input(class="form-check-input" type="radio" name="inlineRadioOptions1" id="no" value=0)
                        label(class="form-check-label" for="no") no

            div
                button(type="submit" class="btn btn-primary") Submit
